var LT;!function(a){function b(b,c){a.client.initialize(b,c)}function c(b,c){a.client.log(b,c)}var d=function(){function a(a,b){this.customerKey=a,this.apiKey=b,this.xhrInitializer=null,this.usingXhr2=!1,this.initializeHttpRequest()}return a.prototype.initialize=function(a,b){this.customerKey=a,this.apiKey=b},a.prototype.log=function(a,b){if(this.xhrInitializer){var c=this.prepareMessage(a),d=this.xhrInitializer();d.open("POST",this.getUrl(b)),this.usingXhr2?this.sendJsonData(d,c):this.sendFormData(d,c)}},a.prototype.prepareMessage=function(a){return"string"==typeof a&&(a={message:a}),JSON.stringify(a)},a.prototype.sendJsonData=function(a,b){a.setRequestHeader("Content-Type","application/json"),a.send(b)},a.prototype.sendFormData=function(a,b){a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send("json="+encodeURIComponent(b))},a.prototype.initializeHttpRequest=function(){this.tryInitializeXHR(),this.xhrInitializer||this.tryInitializeActiveXHR(),this.xhrInitializer||console.log("Couldn't initialize XHR, browser not supported.")},a.prototype.getUrl=function(a){var b="http://store.logtank.com/"+this.customerKey+"/"+this.apiKey;return a&&(b=b+"/"+a.replace(".","/")),b},a.prototype.tryInitializeXHR=function(){try{var a=new XMLHttpRequest;"withCredentials"in a&&(this.usingXhr2=!0,this.xhrInitializer=function(){return new XMLHttpRequest})}catch(b){this.xhrInitializer=null,this.usingXhr2=!1}},a.prototype.tryInitializeActiveXHR=function(){try{{new window.ActiveXObject("Microsoft.XMLHTTP")}this.usingXhr2=!1,this.xhrInitializer=function(){return new window.ActiveXObject("Microsoft.XMLHTTP")}}catch(a){this.xhrInitializer=null}},a}();a.LogTankClient=d,a.client=new d,a.initialize=b,a.log=c}(LT||(LT={}));
//# sourceMappingURL=logtank.min.js.map